{% extends "base.html" %}

{% block content %}
<div class="container">
  <div class="chat-wrapper">
    <div class="chat-history" id="chat-history">
      <div class="welcome" id="empty-state">
        <div class="welcome__icon">💎</div>
        <h1 class="welcome__title">SAC Learning GEMS</h1>
        <p class="welcome__subtitle">Sistema de aprendizado com 7 agentes especializados</p>

        <div class="welcome__value-prop">
          <p class="welcome__description">
            Transforme sua forma de aprender através de uma jornada personalizada com 7 GEMs (agentes especializados) que trabalham em sequência para criar seu próprio assistente de IA.
          </p>
          <div class="welcome__benefits">
            <div class="benefit">
              <span class="benefit__icon">🗺️</span>
              <span class="benefit__text">Mapeie seus objetivos de vida</span>
            </div>
            <div class="benefit">
              <span class="benefit__icon">🎯</span>
              <span class="benefit__text">Identifique desafios reais</span>
            </div>
            <div class="benefit">
              <span class="benefit__icon">🔬</span>
              <span class="benefit__text">Aprenda com ciência comprovada</span>
            </div>
            <div class="benefit">
              <span class="benefit__icon">💎</span>
              <span class="benefit__text">Construa seu assistente personalizado</span>
            </div>
          </div>
        </div>

        <div class="welcome__actions">
          <button class="btn btn--primary btn--large" onclick="document.getElementById('message').value='iniciar'; document.getElementById('chat-form').requestSubmit();">
            🚀 Começar Jornada
          </button>
        </div>
      </div>
    </div>

    <div class="input-wrapper" id="input-wrapper">
      <form class="chat-form" id="chat-form">
        <div class="input-container">
          <textarea
            class="input-field"
            id="message"
            name="message"
            rows="1"
            placeholder="Envie uma mensagem..."
            required
            autocomplete="off"
          ></textarea>
          <button class="send-button" type="submit" id="submit-button" aria-label="Enviar mensagem">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Theme Toggle -->
<button class="theme-toggle" id="theme-toggle" title="Alternar tema">
  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
    <path d="M12 3V5M12 19V21M5 12H3M21 12H19M18.36 18.36L17.64 17.64M6.34 6.34L5.64 5.64M18.36 5.64L17.64 6.34M6.34 18.36L5.64 17.64M16 12C16 14.209 14.209 16 12 16C9.791 16 8 14.209 8 12C8 9.791 9.791 8 12 8C14.209 8 16 9.791 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<!-- History Sidebar -->
<div class="history-sidebar" id="history-sidebar">
  <div class="history-header">
    <h3>Histórico de Conversas</h3>
    <button class="close-sidebar" id="close-sidebar" aria-label="Fechar histórico">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
  </div>
  <div class="history-actions">
    <button class="btn btn--primary btn--small" id="new-chat-button">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
        <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Nova Conversa
    </button>
  </div>
  <div class="history-list" id="history-list">
    <!-- Chat history will be loaded here -->
  </div>
</div>

<!-- History Toggle Button -->
<button class="history-toggle" id="history-toggle" title="Histórico de conversas">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
    <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
  </svg>
</button>

<script src="{{ url_for('static', path='app.js') }}" type="module"></script>
{% endblock %}
